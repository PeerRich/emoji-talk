{"version":3,"sources":["components/Channel.js","components/Tile/Tile.js","CallObjectContext.js","components/Call/callState.js","logUtils.js","components/Call/Call.js","components/StartButton/StartButton.js","api.js","components/Icon/Icon.js","components/TrayButton/TrayButton.js","components/Tray/Tray.js","helpers.js","components/ShareSnackbar.tsx","components/shareButton.tsx","components/MainMenu.tsx","components/BottomAppBar.tsx","components/EmojiPicker.js","components/HomeScreen.js","components/EmptyScreen.js","components/AddToHomeScreenDialog.tsx","components/App/App.js","index.js","urlUtils.js","components/BrowserUnsupported/BrowserUnsupported.js"],"names":["makeStyles","title","fontSize","pos","marginBottom","Channel","style","padding","Grid","className","container","justify","spacing","map","value","key","item","xs","sm","Paper","position","height","paddingTop","width","ButtonBase","top","color","Tile","props","videoEl","useRef","audioEl","useEffect","current","srcObject","MediaStream","videoTrack","audioTrack","isLocalPerson","autoPlay","playsInline","ref","React","createContext","initialCallState","callItems","local","isLoading","clickAllowTimeoutFired","camOrMicError","fatalError","callReducer","callState","action","type","participants","prevCallItems","Object","entries","id","participant","hasLoaded","missingTracks","screenVideoTrack","getCallItems","message","Error","isLocal","isScreenShare","endsWith","logDailyEvent","e","console","log","Call","callObject","useContext","CallObjectContext","useReducer","dispatch","events","handleNewParticipantsState","event","on","off","handleCameraErrorEvent","errorMsg","handleErrorEvent","t","setTimeout","clearTimeout","largeTiles","smallTiles","forEach","callItem","isLarge","keys","some","tile","push","getTiles","header","detail","isError","localCallItem","shouldShowClickAllow","length","getMessage","StartButton","Button","variant","marginTop","size","disabled","onClick","newRoomEndpoint","a","fetch","response","json","room","createRoom","Icon","getFillColor","highlighted","viewBox","xmlns","stroke","strokeWidth","fill","fillRule","transform","d","getPath","TrayButton","IconButton","newButtonGroup","Tray","useState","setCameraMuted","isMicMuted","setMicMuted","setSharingScreen","isCameraMuted","isSharingScreen","localParticipant","video","audio","screen","getStreamStates","setLocalAudio","Emoji","children","noWrapper","tag","options","folder","ext","useStyles","theme","fabButton","zIndex","left","right","margin","TransitionUp","Slide","direction","ShareSnackbar","Transition","classes","open","setOpen","setCopy","undefined","transition","setTransition","handleClose","text","window","location","href","onCopy","Fab","aria-label","Snackbar","onClose","TransitionComponent","webShare","share","isSupported","MainMenu","anchorEl","setAnchorEl","Boolean","edge","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Fade","MenuItem","bottomBar","maxWidth","paper","paddingBottom","list","subheader","backgroundColor","palette","background","grow","flexGrow","BottomAppBar","CssBaseline","AppBar","Toolbar","display","marginLeft","config","params","url","onShareSuccess","onShareError","error","muteIcon","EmojiPicker","set","emojiSize","useButton","showSkinTones","showPreview","sheetSize","borderRadius","emails","avatar","blue","SimpleDialog","selectedValue","matchMedia","matches","Dialog","textAlign","aria-labelledby","DialogTitle","src","DialogContent","DialogContentText","SvgIcon","AddToHomeScreenDialog","setSelectedValue","STATE_JOINING","STATE_JOINED","STATE_ERROR","ReactDOM","render","DailyIframe","supportedBrowser","supported","appState","setAppState","roomUrl","setRoomUrl","setCallObject","createCall","useCallback","api","then","catch","startJoiningCall","newCallObject","createCallObject","join","startLeavingCall","leave","match","search","decodeURIComponent","roomUrlFromPageUrl","pageUrl","split","encodeURIComponent","pageUrlFromRoomUrl","history","replaceState","handleNewMeetingState","meetingState","destroy","showCall","includes","enableCallButtons","enableStartButton","Hidden","smUp","Provider","justifyContent","alignItems","flexDirection","Typography","gutterBottom","component","onClickLeaveCall","Divider","Tabs","indicatorColor","textColor","Tab","label","class","document","getElementById"],"mappings":"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","file":"static/js/main.4deccafa.chunk.js","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { ButtonBase } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\n\nconst useStyles = makeStyles({\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nexport default function Channel() {\n\n  return (\n      <div style={{padding: \"24px 0\"}}>\n        <Grid className=\"people\" container justify=\"center\" spacing={2}>\n          {[0, 1, 2, 3, 4].map(value => (\n            <Grid key={value} item xs={6} sm={4}>\n              <Paper style={{position: \"relative\", height: 0, paddingTop: \"100%\", width: \"100%\"}}>\n                <ButtonBase className=\"volume-off-icon\" style={{position: \"absolute\", top: 0, width: \"100%\", height: \"100%\"}}>\n                  <VolumeOffIcon style={{color: \"#fff\"}}/>\n                </ButtonBase>\n              </Paper>\n            </Grid>\n          ))}\n          <Grid item xs={6} sm={4}>\n            <Paper className=\"add-person\" style={{position: \"relative\", height: 0, paddingTop: \"100%\", width: \"100%\"}}>\n              <ButtonBase style={{position: \"absolute\", top: 0, width: \"100%\", height: \"100%\"}}>\n                <AddIcon style={{color: \"#757ce8\"}}/>\n              </ButtonBase>\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\nimport \"./Tile.css\";\nimport Channel from \"../Channel\";\n\n/**\n * Props\n * - videoTrack: MediaStreamTrack?\n * - audioTrack: MediaStreamTrack?\n * - isLocalPerson: boolean\n * - isLarge: boolean\n * - isLoading: boolean\n */\nexport default function Tile(props) {\n  const videoEl = useRef(null);\n  const audioEl = useRef(null);\n\n  /**\n   * When video track changes, update video srcObject\n   */\n  useEffect(() => {\n    videoEl.current &&\n      (videoEl.current.srcObject = new MediaStream([props.videoTrack]));\n  }, [props.videoTrack]);\n\n  /**\n   * When audio track changes, update audio srcObject\n   */\n  useEffect(() => {\n    audioEl.current &&\n      (audioEl.current.srcObject = new MediaStream([props.audioTrack]));\n  }, [props.audioTrack]);\n\n  function getLoadingComponent() {\n    return props.isLoading && <p className=\"loading\">Loading...</p>;\n  }\n\n  function getVideoComponent() {\n    return (\n      props.videoTrack && <video autoPlay muted playsInline ref={videoEl} />\n    );\n  }\n\n  function getAudioComponent() {\n    return (\n      !props.isLocalPerson &&\n      props.audioTrack && <audio autoPlay playsInline ref={audioEl} />\n    );\n  }\n\n  function getClassNames() {\n    let classNames = \"tile\";\n    classNames += props.isLarge ? \" large\" : \" small\";\n    props.isLocalPerson && (classNames += \" local\");\n    return classNames;\n  }\n\n  return (\n    <div>\n      {getAudioComponent()}\n    </div>\n    /*<div className={getClassNames()}>\n      <div className=\"background\" />\n      {getLoadingComponent()}\n      {getVideoComponent()}\n      {getAudioComponent()}\n    </div>*/\n  );\n}\n","import React from \"react\";\n\nexport default React.createContext();\n","/**\n * Call state is comprised of:\n * - \"Call items\" (inputs to the call, i.e. participants or shared screens)\n * - UI state that depends on call items (for now, just whether to show \"click allow\" message)\n *\n * Call items are keyed by id:\n * - \"local\" for the current participant\n * - A session id for each remote participant\n * - \"<id>-screen\" for each shared screen\n */\nconst initialCallState = {\n  callItems: {\n    local: {\n      isLoading: true,\n      audioTrack: null,\n      videoTrack: null\n    }\n  },\n  clickAllowTimeoutFired: false,\n  camOrMicError: null,\n  fatalError: null\n};\n\n// --- Actions ---\n\n/**\n * CLICK_ALLOW_TIMEOUT action structure:\n * - type: string\n */\nconst CLICK_ALLOW_TIMEOUT = \"CLICK_ALLOW_TIMEOUT\";\n\n/**\n * PARTICIPANTS_CHANGE action structure:\n * - type: string\n * - participants: Object (from Daily.co callObject.participants())\n */\nconst PARTICIPANTS_CHANGE = \"PARTICIPANTS_CHANGE\";\n\n/**\n * CAM_OR_MIC_ERROR action structure:\n * - type: string\n * - message: string\n */\nconst CAM_OR_MIC_ERROR = \"CAM_OR_MIC_ERROR\";\n\n/**\n * CAM_OR_MIC_ERROR action structure:\n * - type: string\n * - message: string\n */\nconst FATAL_ERROR = \"FATAL_ERROR\";\n\n// --- Reducer and helpers --\n\nfunction callReducer(callState, action) {\n  switch (action.type) {\n    case CLICK_ALLOW_TIMEOUT:\n      return {\n        ...callState,\n        clickAllowTimeoutFired: true\n      };\n    case PARTICIPANTS_CHANGE:\n      const callItems = getCallItems(action.participants, callState.callItems);\n      return {\n        ...callState,\n        callItems\n      };\n    case CAM_OR_MIC_ERROR:\n      return { ...callState, camOrMicError: action.message };\n    case FATAL_ERROR:\n      return { ...callState, fatalError: action.message };\n    default:\n      throw new Error();\n  }\n}\n\nfunction getLocalCallItem(callItems) {\n  return callItems[\"local\"];\n}\n\nfunction getCallItems(participants, prevCallItems) {\n  let callItems = { ...initialCallState.callItems }; // Ensure we *always* have a local participant\n  for (const [id, participant] of Object.entries(participants)) {\n    // Here we assume that a participant will join with audio/video enabled.\n    // This assumption lets us show a \"loading\" state before we receive audio/video tracks.\n    // This may not be true for all apps, but the call object doesn't yet support distinguishing\n    // between cases where audio/video are missing because they're still loading or muted.\n    const hasLoaded = prevCallItems[id] && !prevCallItems[id].isLoading;\n    const missingTracks = !(participant.audioTrack || participant.videoTrack);\n    callItems[id] = {\n      isLoading: !hasLoaded && missingTracks,\n      audioTrack: participant.audioTrack,\n      videoTrack: participant.videoTrack\n    };\n    if (participant.screenVideoTrack) {\n      callItems[id + \"-screen\"] = {\n        isLoading: false,\n        videoTrack: participant.screenVideoTrack\n      };\n    }\n  }\n  return callItems;\n}\n\n// --- Derived data ---\n\n// True if id corresponds to local participant (*not* their screen share)\nfunction isLocal(id) {\n  return id === \"local\";\n}\n\nfunction isScreenShare(id) {\n  return id.endsWith(\"-screen\");\n}\n\nfunction containsScreenShare(callItems) {\n  return Object.keys(callItems).some(id => isScreenShare(id));\n}\n\nfunction getMessage(callState) {\n  function shouldShowClickAllow() {\n    const localCallItem = getLocalCallItem(callState.callItems);\n    const hasLoaded = localCallItem && !localCallItem.isLoading;\n    return !hasLoaded && callState.clickAllowTimeoutFired;\n  }\n\n  let header = null;\n  let detail = null;\n  let isError = false;\n  if (callState.fatalError) {\n    header = `Fatal error: ${callState.fatalError}`;\n    isError = true;\n  } else if (callState.camOrMicError) {\n    header = `Camera or mic access error: ${callState.camOrMicError}`;\n    detail =\n      \"See https://help.daily.co/en/articles/2528184-unblock-camera-mic-access-on-a-computer to troubleshoot.\";\n    isError = true;\n  } else if (shouldShowClickAllow()) {\n    header = 'Click \"Allow\" to enable camera and mic access';\n  } else if (Object.keys(callState.callItems).length === 1) {\n    header = \"Copy and share this page's URL to invite others\";\n  }\n  return header || detail ? { header, detail, isError } : null;\n}\n\nexport {\n  initialCallState,\n  CLICK_ALLOW_TIMEOUT,\n  PARTICIPANTS_CHANGE,\n  CAM_OR_MIC_ERROR,\n  FATAL_ERROR,\n  callReducer,\n  isLocal,\n  isScreenShare,\n  containsScreenShare,\n  getMessage\n};\n","export function logDailyEvent(e) {\n  console.log(\"[daily.co event]\", e.action);\n}\n","import React, {useEffect, useContext, useReducer} from \"react\";\nimport \"./Call.css\";\nimport Tile from \"../Tile/Tile\";\nimport CallObjectContext from \"../../CallObjectContext\";\nimport CallMessage from \"../CallMessage/CallMessage\";\nimport {\n  initialCallState,\n  CLICK_ALLOW_TIMEOUT,\n  PARTICIPANTS_CHANGE,\n  CAM_OR_MIC_ERROR,\n  FATAL_ERROR,\n  callReducer,\n  isLocal,\n  isScreenShare,\n  containsScreenShare,\n  getMessage\n} from \"./callState\";\nimport {logDailyEvent} from \"../../logUtils\";\nimport Channel from \"../Channel\";\n\nexport default function Call() {\n  const callObject = useContext(CallObjectContext);\n  const [callState, dispatch] = useReducer(callReducer, initialCallState);\n\n  /**\n   * Start listening for participant changes, when the callObject is set.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    const events = [\n      \"participant-joined\",\n      \"participant-updated\",\n      \"participant-left\"\n    ];\n\n    function handleNewParticipantsState(event) {\n      event && logDailyEvent(event);\n      dispatch({\n        type: PARTICIPANTS_CHANGE,\n        participants: callObject.participants()\n      });\n    }\n\n    // Use initial state\n    handleNewParticipantsState();\n\n    // Listen for changes in state\n    for (const event of events) {\n      callObject.on(event, handleNewParticipantsState);\n    }\n\n    // Stop listening for changes in state\n    return function cleanup() {\n      for (const event of events) {\n        callObject.off(event, handleNewParticipantsState);\n      }\n    };\n  }, [callObject]);\n\n  /**\n   * Start listening for call errors, when the callObject is set.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleCameraErrorEvent(event) {\n      logDailyEvent(event);\n      dispatch({\n        type: CAM_OR_MIC_ERROR,\n        message:\n          (event && event.errorMsg && event.errorMsg.errorMsg) || \"Unknown\"\n      });\n    }\n\n    // We're making an assumption here: there is no camera error when callObject\n    // is first assigned.\n\n    callObject.on(\"camera-error\", handleCameraErrorEvent);\n\n    return function cleanup() {\n      callObject.off(\"camera-error\", handleCameraErrorEvent);\n    };\n  }, [callObject]);\n\n  /**\n   * Start listening for fatal errors, when the callObject is set.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleErrorEvent(e) {\n      logDailyEvent(e);\n      dispatch({\n        type: FATAL_ERROR,\n        message: (e && e.errorMsg) || \"Unknown\"\n      });\n    }\n\n    // We're making an assumption here: there is no error when callObject is\n    // first assigned.\n\n    callObject.on(\"error\", handleErrorEvent);\n\n    return function cleanup() {\n      callObject.off(\"error\", handleErrorEvent);\n    };\n  }, [callObject]);\n\n  /**\n   * Start a timer to show the \"click allow\" message, when the component mounts.\n   */\n  useEffect(() => {\n    const t = setTimeout(() => {\n      dispatch({type: CLICK_ALLOW_TIMEOUT});\n    }, 2500);\n\n    return function cleanup() {\n      clearTimeout(t);\n    };\n  }, []);\n\n  function getTiles() {\n    let largeTiles = [];\n    let smallTiles = [];\n    Object.entries(callState.callItems).forEach(([id, callItem]) => {\n      const isLarge =\n        isScreenShare(id) ||\n        (!isLocal(id) && !containsScreenShare(callState.callItems));\n      const tile = (\n        <Tile\n          key={id}\n          videoTrack={callItem.videoTrack}\n          audioTrack={callItem.audioTrack}\n          isLocalPerson={isLocal(id)}\n          isLarge={isLarge}\n          isLoading={callItem.isLoading}\n        />\n      );\n      if (isLarge) {\n        largeTiles.push(tile);\n      } else {\n        smallTiles.push(tile);\n      }\n    });\n    return [largeTiles, smallTiles];\n  }\n\n  const [largeTiles, smallTiles] = getTiles();\n  const message = getMessage(callState);\n  return (\n    <div>\n      <Channel/>\n      {/*\n      <div className=\"call\">\n        {message && (\n          <CallMessage\n            header={message.header}\n            detail={message.detail}\n            isError={message.isError}\n          />\n        )}\n        <div className=\"large-tiles\">\n        {!message\n          ? largeTiles\n          : null }\n      </div>\n        <div className=\"small-tiles\">{smallTiles}</div>\n      </div>\n      */}\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./StartButton.css\";\nimport Button from \"@material-ui/core/Button\";\n\n/**\n * Props:\n * - disabled: boolean\n * - onClick: () => ()\n */\nexport default function StartButton(props) {\n  return (\n    <Button color=\"primary\" variant=\"contained\" style={{marginTop: 16}} size=\"small\"\n      className=\"start-button\"\n      disabled={props.disabled}\n      onClick={props.onClick}>\n      Join Channel\n    </Button>\n  );\n}\n","const newRoomEndpoint = \"https://fu6720epic.execute-api.us-west-2.amazonaws.com/default/dailyWwwApiDemoNewCall\";\n\n/**\n * Create a short-lived room for demo purposes.\n *\n * IMPORTANT: this is purely a \"demo-only\" API, and *not* how we recommend\n * you create rooms in real production code. In your code, we recommend that you:\n * - Create rooms by invoking the Daily.co REST API from your own backend server\n *   (or from the Daily.co dashboard if you're OK with creating rooms manually).\n * - Pass an \"exp\" (expiration) parameter to the Daily.co REST endpoint so you\n *   don't end up with a huge number of live rooms.\n *\n * See https://docs.daily.co/reference#create-room for more information on how\n * to use the Daily.co REST API to create rooms.\n */\nasync function createRoom() {\n  let response = await fetch(newRoomEndpoint),\n    room = await response.json();\n  return room;\n}\n\nexport default { createRoom };\n","import React from \"react\";\n\nconst TYPE_MUTE_CAMERA = \"camera\";\nconst TYPE_MUTE_MIC = \"mute-mic\";\nconst TYPE_SCREEN = \"screen\";\nconst TYPE_LEAVE = \"leave\";\n\n/**\n * Props:\n * - type: string\n * - highlighted: boolean\n */\nexport default function Icon(props) {\n  function getFillColor() {\n    return props.highlighted ? \"#fb5554\" : \"#fff\";\n  }\n\n  function getPath() {\n    switch (props.type) {\n      case TYPE_MUTE_CAMERA:\n        return (\n          <g\n            id=\"Symbols\"\n            stroke=\"none\"\n            strokeWidth=\"1\"\n            fill=\"none\"\n            fillRule=\"evenodd\"\n          >\n            <g\n              id=\"Assets-for-Export\"\n              transform=\"translate(-24.000000, 0.000000)\"\n              fill={getFillColor()}\n            >\n              <g\n                id=\"Icon-Camera-Off-24px\"\n                transform=\"translate(24.000000, 0.000000)\"\n              >\n                <path\n                  d=\"M13.7573593,6 L4.00585866,6 C2.89706013,6 2,6.8992496 2,8.0085302 L2,15.9914698 C2,16.4835828 2.17760958,16.9352259 2.47229113,17.2850682 L13.7573593,6 Z M16,12.2426407 L16,15.9914698 C16,17.1007504 15.1029399,18 13.9941413,18 L10.2426407,18 L16,12.2426407 Z M16,12.2426407 L16,14.499966 L21.0756492,16.6148096 C21.586154,16.8275189 22,16.5442917 22,16.0045612 L22,7.99539512 C22,7.44565489 21.5875957,7.17183667 21.0756492,7.38514669 L20.7016702,7.54097052 L16,12.2426407 Z M20.4877316,2.09805481 C20.8769027,1.70888376 21.506248,1.70725811 21.8994949,2.10050506 C22.2900192,2.49102936 22.2956069,3.1186067 21.9019452,3.51226838 L3.51226838,21.9019452 C3.12309732,22.2911162 2.49375202,22.2927419 2.10050506,21.8994949 C1.70998077,21.5089706 1.70439313,20.8813933 2.09805481,20.4877316 L20.4877316,2.09805481 Z\"\n                  id=\"Combined-Shape\"\n                ></path>\n              </g>\n            </g>\n          </g>\n        );\n      case TYPE_MUTE_MIC:\n        return (\n          <g\n            id=\"Symbols\"\n            stroke=\"none\"\n            strokeWidth=\"1\"\n            fill=\"none\"\n            fillRule=\"evenodd\"\n          >\n            <g\n              id=\"Assets-for-Export\"\n              transform=\"translate(-120.000000, 0.000000)\"\n              fill={getFillColor()}\n            >\n              <g\n                id=\"Icon-Microphone-Off-24px\"\n                transform=\"translate(120.000000, 0.000000)\"\n              >\n                <path\n                  d=\"M15.8931049,12.3495358 L15.8883757,12.354265 C15.7702192,12.7237203 15.5976472,13.0928313 15.3634551,13.4334743 C14.9080287,14.0959127 14.281481,14.5761112 13.4232304,14.8194102 L11,17.2426407 L11,18.9906311 C11,18.9937578 11.0000137,18.9968808 11.0000409,19 L9.99077797,19 C9.45097518,19 9,19.4477153 9,20 C9,20.5561352 9.44358641,21 9.99077797,21 L14.009222,21 C14.5490248,21 15,20.5522847 15,20 C15,19.4438648 14.5564136,19 14.009222,19 L12.9999626,19 C12.999986,18.9968804 13,18.9937574 13,18.9906311 L13,16.9383953 C14.793746,16.7093537 16.1268712,15.8533183 17.0115375,14.566531 C17.631941,13.6641258 17.9116422,12.769082 17.9922726,12.124039 C18.0567667,11.6080864 17.715976,11.1348845 17.2185349,11.0241058 L17.2162194,11.0264213 C17.1758852,11.0160463 17.1430789,11.0101085 17.12403,11.0077274 C16.5760096,10.9392248 16.076219,11.3279514 16.0077165,11.8759725 C15.9990827,11.9450424 15.9659776,12.1062504 15.8970768,12.3267333 C15.8944966,12.3349898 15.8931939,12.3425837 15.8931049,12.3495358 Z M14.8100942,4.94726512 C14.3837386,3.80970165 13.2864273,3 12,3 C10.3431458,3 9,4.34314575 9,6 L9,10.7573593 L14.8100942,4.94726512 Z M7.97590142,11.7814579 C7.86511978,11.2840207 7.39191988,10.9432336 6.87596978,11.0077274 C6.32795032,11.0762298 5.93922497,11.5760196 6.0077274,12.124039 C6.05291889,12.4855709 6.16064541,12.9256367 6.35584336,13.401516 L7.97590142,11.7814579 Z M20.4877316,2.09805481 C20.8769027,1.70888376 21.506248,1.70725811 21.8994949,2.10050506 C22.2900192,2.49102936 22.2956069,3.1186067 21.9019452,3.51226838 L3.51226838,21.9019452 C3.12309732,22.2911162 2.49375202,22.2927419 2.10050506,21.8994949 C1.70998077,21.5089706 1.70439313,20.8813933 2.09805481,20.4877316 L20.4877316,2.09805481 Z\"\n                  id=\"Combined-Shape\"\n                ></path>\n              </g>\n            </g>\n          </g>\n        );\n      case TYPE_SCREEN:\n        return (\n          <path\n            fill={getFillColor()}\n            fillRule=\"evenodd\"\n            d=\"M2 5.006C2 3.898 2.898 3 3.99 3h16.02C21.108 3 22 3.897 22 5.006v9.988A2.003 2.003 0 0 1 20.01 17H3.99C2.892 17 2 16.103 2 14.994V5.006zm2 .99v8.009c0 .54.448.995 1 .995h14c.555 0 1-.446 1-.995v-8.01c0-.54-.448-.995-1-.995H5c-.555 0-1 .446-1 .995zM7 20c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01A.995.995 0 0 1 7 20z\"\n          />\n        );\n      case TYPE_LEAVE:\n        return (\n          <path\n            d=\"M19.347 11l-1.71-1.638a.832.832 0 0 1 0-1.222l.03-.03a.922.922 0 0 1 1.27-.003l3.34 3.2a.95.95 0 0 1 0 1.386l-3.34 3.2a.918.918 0 0 1-1.27-.003l-.03-.03a.842.842 0 0 1 0-1.221L19.348 13h-7.352A.995.995 0 0 1 11 12c0-.552.456-1 .995-1h7.352zM16 10h-2V7.995c0-.54-.446-.995-.997-.995H6.997A1 1 0 0 0 6 7.995v8.01c0 .54.446.995.997.995h6.006a1 1 0 0 0 .997-.995V14h2v2.994A2.009 2.009 0 0 1 13.991 19H6.01A2.007 2.007 0 0 1 4 16.994V7.006C4 5.898 4.902 5 6.009 5h7.982C15.101 5 16 5.897 16 7.006V10z\"\n            fill={getFillColor()}\n            fillRule=\"evenodd\"\n          />\n        );\n      default:\n        throw new Error();\n    }\n  }\n\n  return (\n    <svg\n      width=\"24px\"\n      height=\"24px\"\n      viewBox=\"0 0 24 24\"\n      className={props.className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      {getPath()}\n    </svg>\n  );\n}\n\nexport { TYPE_MUTE_CAMERA, TYPE_MUTE_MIC, TYPE_SCREEN, TYPE_LEAVE };\n","import React from \"react\";\nimport \"./TrayButton.css\";\nimport Icon, {\n  TYPE_MUTE_CAMERA,\n  TYPE_MUTE_MIC,\n  TYPE_SCREEN,\n  TYPE_LEAVE\n} from \"../Icon/Icon\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n/**\n * Props:\n * - type: string\n * - disabled: boolean\n * - highlighted: boolean\n * - onClick: () => ()\n * - newButtonGroup: boolean\n */\nexport default function TrayButton(props) {\n  return (\n    <IconButton\n      color=\"inherit\"\n      disabled={props.disabled}\n      onClick={props.onClick}\n      className={\"tray-button\" + (props.newButtonGroup ? \" new-group\" : \"\")}\n    >\n      <Icon type={props.type} highlighted={props.highlighted} />\n    </IconButton>\n  );\n}\n\nexport { TYPE_MUTE_CAMERA, TYPE_MUTE_MIC, TYPE_SCREEN, TYPE_LEAVE };\n","import React, { useContext, useEffect, useState } from \"react\";\nimport \"./Tray.css\";\nimport TrayButton, {\n  TYPE_MUTE_CAMERA,\n  TYPE_MUTE_MIC,\n  TYPE_SCREEN,\n  TYPE_LEAVE\n} from \"../TrayButton/TrayButton\";\nimport CallObjectContext from \"../../CallObjectContext\";\nimport { logDailyEvent } from \"../../logUtils\";\nimport DailyIframe from \"@daily-co/daily-js\";\n\n/**\n * Gets [isCameraMuted, isMicMuted, isSharingScreen].\n * This function is declared outside Tray() so it's not recreated every render\n * (which would require us to declare it as a useEffect dependency).\n */\nfunction getStreamStates(callObject) {\n  let isCameraMuted,\n    isMicMuted,\n    isSharingScreen = false;\n  if (\n    callObject &&\n    callObject.participants() &&\n    callObject.participants().local\n  ) {\n    const localParticipant = callObject.participants().local;\n    isCameraMuted = !localParticipant.video;\n    isMicMuted = !localParticipant.audio;\n    isSharingScreen = localParticipant.screen;\n  }\n  return [isCameraMuted, isMicMuted, isSharingScreen];\n}\n\n/**\n * Props:\n * - onClickLeaveCall: () => ()\n * - disabled: boolean\n */\nexport default function Tray(props) {\n  const callObject = useContext(CallObjectContext);\n  const [isCameraMuted, setCameraMuted] = useState(false);\n  const [isMicMuted, setMicMuted] = useState(false);\n  const [isSharingScreen, setSharingScreen] = useState(false);\n\n  function toggleCamera() {\n    callObject.setLocalVideo(isCameraMuted);\n  }\n\n  function toggleMic() {\n    callObject.setLocalAudio(isMicMuted);\n  }\n\n  function toggleSharingScreen() {\n    isSharingScreen\n      ? callObject.stopScreenShare()\n      : callObject.startScreenShare();\n  }\n\n  function leaveCall() {\n    props.onClickLeaveCall && props.onClickLeaveCall();\n  }\n\n  /**\n   * Start listening for participant changes when callObject is set (i.e. when the component mounts).\n   * This event will capture any changes to your audio/video mute state.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleNewParticipantsState(event) {\n      event && logDailyEvent(event);\n      const [isCameraMuted, isMicMuted, isSharingScreen] = getStreamStates(\n        callObject\n      );\n      setCameraMuted(isCameraMuted);\n      setMicMuted(isMicMuted);\n      setSharingScreen(isSharingScreen);\n    }\n\n    // Use initial state\n    handleNewParticipantsState();\n\n    // Listen for changes in state\n    callObject.on(\"participant-updated\", handleNewParticipantsState);\n\n    // Stop listening for changes in state\n    return function cleanup() {\n      callObject.off(\"participant-updated\", handleNewParticipantsState);\n    };\n  }, [callObject]);\n\n  return (\n    <>\n      {/*\n      <TrayButton\n        type={TYPE_MUTE_CAMERA}\n        disabled={props.disabled}\n        highlighted={isCameraMuted}\n        onClick={toggleCamera}\n      />\n      */}\n      <TrayButton\n        type={TYPE_MUTE_MIC}\n        disabled={props.disabled}\n        highlighted={isMicMuted}\n        onClick={toggleMic}\n      />\n      {/*DailyIframe.supportedBrowser().supportsScreenShare && (\n        <TrayButton\n          type={TYPE_SCREEN}\n          disabled={props.disabled}\n          highlighted={isSharingScreen}\n          onClick={toggleSharingScreen}\n        />\n      )*/}\n      {/*\n      <TrayButton\n        type={TYPE_LEAVE}\n        disabled={props.disabled}\n        newButtonGroup={true}\n        highlighted={true}\n        onClick={leaveCall}\n      />\n      */}\n    </>\n  );\n}\n","import React from \"react\";\nimport Twemoji from 'react-twemoji';\n\nexport const Emoji = ({children}) => (\n  <Twemoji noWrapper={false} tag=\"span\" options={{\n    className: \"twemoji\",\n    folder: 'svg',\n    ext: '.svg'\n  }}>{children}</Twemoji>\n);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Slide, { SlideProps } from '@material-ui/core/Slide';\nimport ShareIcon from '@material-ui/icons/Share';\nimport Fab from \"@material-ui/core/Fab\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\n\nconst useStyles = makeStyles((theme) => ({\n  fabButton: {\n    position: 'absolute',\n    zIndex: 1,\n    top: -30,\n    left: 0,\n    right: 0,\n    margin: '0 auto',\n  },\n}));\ntype TransitionProps = Omit<SlideProps, 'direction'>;\n\nfunction TransitionUp(props: TransitionProps) {\n  return <Slide {...props} direction=\"up\" />;\n}\n\nexport default function ShareSnackbar() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [copy, setCopy] = React.useState(false);\n  const [transition, setTransition] = React.useState<\n  React.ComponentType<TransitionProps> | undefined\n  >(undefined);\n\n  const handleClick = (Transition: React.ComponentType<TransitionProps>) => () => {\n    setTransition(() => Transition);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCopy = () => {\n    setCopy(true);\n  };\n\n  return (\n  <>\n    <CopyToClipboard text={window.location.href}\n                     onCopy={handleCopy}>\n      <Fab onClick={handleClick(TransitionUp)} color=\"secondary\" aria-label=\"add\" className={classes.fabButton}>\n        <ShareIcon style={{color: \"#fff\"}} />\n      </Fab>\n    </CopyToClipboard>\n    <Snackbar\n    open={open}\n    onClose={handleClose}\n    onClick={handleClose}\n    TransitionComponent={transition}\n    message={<span>Your channel link has been copied to clipboard: <u style={{color: \"#f50057\"}}>{window.location.href}</u></span>}\n    />\n  </>\n  );\n}\n","import * as React from 'react';\nimport webShare, {WebShareInterface} from 'react-web-share-api';\nimport ShareSnackbar from \"./ShareSnackbar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport ShareIcon from '@material-ui/icons/Share';\nimport Fab from \"@material-ui/core/Fab\";\n\n\nconst ShareButton: React.StatelessComponent<WebShareInterface> = ({\n                                                                    share, isSupported,\n                                                                  }) => isSupported\n? <Fab onClick={share} color=\"secondary\" aria-label=\"add\" style={{\n  position: 'absolute',\n  zIndex: 1,\n  top: -30,\n  left: 0,\n  right: 0,\n  margin: '0 auto',\n}}>\n  <ShareIcon style={{color: \"#fff\"}}/>\n</Fab>\n: <ShareSnackbar/>\n;\n\nexport default webShare()(ShareButton);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Fade from '@material-ui/core/Fade';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport IconButton from \"@material-ui/core/IconButton\";\n\nexport default function MainMenu() {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n  <div>\n    <IconButton edge=\"end\" color=\"inherit\" aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n      <MoreIcon />\n    </IconButton>\n    <Menu\n    id=\"fade-menu\"\n    anchorEl={anchorEl}\n    keepMounted\n    open={open}\n    onClose={handleClose}\n    TransitionComponent={Fade}\n    >\n      <MenuItem onClick={handleClose}>Profile</MenuItem>\n      <MenuItem onClick={handleClose}>My account</MenuItem>\n      <MenuItem onClick={handleClose}>Logout</MenuItem>\n    </Menu>\n  </div>\n  );\n}\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport {Emoji} from \"../helpers\";\nimport ShareButton from \"./shareButton\";\nimport MainMenu from \"./MainMenu\";\n\nconst useStyles = makeStyles((theme) => ({\n  text: {\n    padding: theme.spacing(2, 2, 0),\n  },\n  bottomBar: {\n    maxWidth: 1280,\n    margin: \"0 auto\"\n  },\n  paper: {\n    paddingBottom: 50,\n  },\n  list: {\n    marginBottom: theme.spacing(2),\n  },\n  subheader: {\n    backgroundColor: theme.palette.background.paper,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function BottomAppBar(props: any) {\n  const classes = useStyles();\n  const muted = true;\n\n  return (\n  <div className={classes.bottomBar}>\n    <CssBaseline/>\n    <AppBar position=\"static\" color=\"primary\" className=\"bottomAppBar\">\n      <Toolbar>\n        <strong style={{display: \"inline-block\", marginLeft: -10}}>#</strong>\n        <IconButton disabled edge=\"start\" color=\"inherit\" aria-label=\"open drawer\">\n          <Emoji>😊</Emoji>\n        </IconButton>\n        <ShareButton\n        config={{\n          params: {\n            title: 'EmojiTalkie',\n            text: 'Check out the anonymous voice chat community',\n            url: 'https://emojitalkie.com',\n          },\n          /* tslint:disable-next-line:no-console */\n          onShareSuccess: () => console.log('Success'),\n          /* tslint:disable-next-line:no-console */\n          onShareError: (error: Error) => console.log('error', error),\n        }}\n        />\n        <div className={classes.grow}/>\n        {props.muteIcon}\n        <MainMenu/>\n      </Toolbar>\n    </AppBar>\n  </div>\n  );\n}\n","import 'emoji-mart/css/emoji-mart.css';\nimport { Picker } from 'emoji-mart';\nimport React from \"react\";\n\nexport default function EmojiPicker() {\n\n  return (\n      <Picker set=\"twitter\"\n              emojiSize={38}\n              useButton={false}\n              showSkinTones={false}\n              showPreview={false}\n              sheetSize={64}\n              color=\"#002884\"\n              title=\"EmojiTalkie\"\n              style={{ width: \"100%\", borderRadius: 0}} />\n  );\n}\n\n\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {Emoji} from \"../helpers\";\n\nconst useStyles = makeStyles({\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nexport default function HomeScreen() {\n  const classes = useStyles();\n  let microphone = false;\n\n  return (\n    <div style={{\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      display: \"flex\",\n    }}>\n      <div style={{textAlign: \"center\", padding: \"10% 0px\", maxWidth: 450}}>\n        <img src=\"https://twemoji.maxcdn.com/v/12.1.5/svg/1f44b.svg\"\n             style={{height: 100, width: 100, marginBottom: 20}}/>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n          Hello Stranger,\n        </Typography>\n        <Typography variant=\"h5\" component=\"h2\">\n          Welcome to <Emoji>📻</Emoji> <strong className=\"brand\">EmojiTalkie</strong>\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          The anonymous voice chat community\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          Join emoji channels and talk to strangers. You can mute a person with one <i>tap</i>, or\n          permanently block them with a <i>double-tap</i>. No account. No download. It's that simple.\n        </Typography>\n        {!microphone &&\n          <Button color=\"primary\" variant=\"contained\" style={{marginTop: 16}} size=\"small\">Enable Microphone</Button>}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {Emoji} from \"../helpers\";\n\nconst useStyles = makeStyles({\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nexport default function EmptyScreen() {\n  const classes = useStyles();\n  let microphone = false;\n\n  return (\n    <div style={{\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      display: \"flex\",\n      margin: \"5% auto\",\n    }}>\n      <div style={{textAlign: \"center\", maxWidth: 450}}>\n        <img src=\"https://twemoji.maxcdn.com/v/12.1.5/svg/1f937.svg\"\n             style={{height: 100, width: 100, marginBottom: 20}}/>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n          No one here yet.\n        </Typography>\n        <Typography variant=\"h5\" component=\"h2\">\n          You are the only one\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          Invite a friend or join another random channel\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          Join emoji channels and talk to strangers. You can mute a person with one <i>tap</i>, or\n          permanently block them with a <i>double-tap</i>. No account. No download. It's that simple.\n        </Typography>\n        {!microphone &&\n          <Button color=\"primary\" variant=\"contained\" style={{margin: \"16px 4px\"}} size=\"small\">Invite friend</Button>}\n          <Button color=\"primary\" style={{margin: \"16px 4px\"}} size=\"small\">random channel</Button>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport PersonIcon from '@material-ui/icons/Person';\nimport AddIcon from '@material-ui/icons/Add';\nimport Typography from '@material-ui/core/Typography';\nimport {blue} from '@material-ui/core/colors';\nimport {Emoji} from \"../helpers\";\nimport {DialogActions, DialogContent, DialogContentText, SvgIcon} from \"@material-ui/core\";\n\nconst emails = ['username@gmail.com', 'user02@gmail.com'];\nconst useStyles = makeStyles({\n  avatar: {\n    backgroundColor: blue[100],\n    color: blue[600],\n  },\n});\n\nexport interface SimpleDialogProps {\n  open: boolean;\n  selectedValue: string;\n  onClose: (value: string) => void;\n}\n\nfunction SimpleDialog(props: SimpleDialogProps) {\n  const classes = useStyles();\n  const {onClose, selectedValue, open} = props;\n\n  const handleClose = () => {\n    onClose(selectedValue);\n  };\n\n  const handleListItemClick = (value: string) => {\n    onClose(value);\n  };\n\n  if (!window.matchMedia('(display-mode: standalone)').matches) {\n    return (\n    <Dialog maxWidth=\"xs\" style={{textAlign: \"center\"}} onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n      <DialogTitle id=\"simple-dialog-title\">\n        <img style={{\n          margin: \"0 auto\",\n          background: \"#f44336\",\n          padding: 8,\n          borderRadius: 10,\n          width: 50,\n          height: 50,\n          display: \"block\",\n        }} src=\"https://twemoji.maxcdn.com/v/12.1.5/svg/1f4fb.svg\"/>\n        <h1 style={{fontSize: \"22px\"}}>\n          <strong className=\"brand\">EmojiTalkie</strong>\n        </h1>\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          Add this app to your home screen for easy access and a better experience.\n          <br/>\n          <br/>\n          <strong style={{color: \"#3f50b5\"}}>Tap\n            <SvgIcon style={{\n              height: 30,\n              width: 35,\n              top: 10,\n              position: \"relative\"\n            }} viewBox=\"0 0 50 50\">\n              <path d=\"M30.3 13.7L25 8.4l-5.3 5.3-1.4-1.4L25 5.6l6.7 6.7z\"/><path d=\"M24 7h2v21h-2z\"/><path d=\"M35 40H15c-1.7 0-3-1.3-3-3V19c0-1.7 1.3-3 3-3h7v2h-7c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1h20c.6 0 1-.4 1-1V19c0-.6-.4-1-1-1h-7v-2h7c1.7 0 3 1.3 3 3v18c0 1.7-1.3 3-3 3z\"/>\n            </SvgIcon>\n            then 'Add to Home Screen'</strong>\n        </DialogContentText>\n      </DialogContent>\n    </Dialog>\n    )\n  } else return <div/>;\n}\n\nexport default function AddToHomeScreenDialog() {\n  const [open, setOpen] = React.useState(true);\n  const [selectedValue, setSelectedValue] = React.useState(emails[1]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (value: string) => {\n    setOpen(false);\n    setSelectedValue(value);\n  };\n\n  return (<SimpleDialog selectedValue={selectedValue} open={open} onClose={handleClose}/>);\n}\n","import React, {useEffect, useState, useCallback} from \"react\";\nimport Call from \"../Call/Call\";\nimport StartButton from \"../StartButton/StartButton\";\nimport api from \"../../api\";\nimport \"./App.css\";\nimport Tray from \"../Tray/Tray\";\nimport CallObjectContext from \"../../CallObjectContext\";\nimport {roomUrlFromPageUrl, pageUrlFromRoomUrl} from \"../../urlUtils\";\nimport DailyIframe from \"@daily-co/daily-js\";\nimport {logDailyEvent} from \"../../logUtils\";\nimport BottomAppBar from \"../BottomAppBar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport EmojiPicker from \"../EmojiPicker\";\nimport HomeScreen from \"../HomeScreen\";\nimport EmptyScreen from \"../EmptyScreen\";\nimport Channel from \"../Channel\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Divider from \"@material-ui/core/Divider\";\nimport AddToHomeScreenDialog from \"../AddToHomeScreenDialog\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Emoji} from \"../../helpers\";\nimport Button from \"@material-ui/core/Button\";\n\nconst STATE_IDLE = \"STATE_IDLE\";\nconst STATE_CREATING = \"STATE_CREATING\";\nconst STATE_JOINING = \"STATE_JOINING\";\nconst STATE_JOINED = \"STATE_JOINED\";\nconst STATE_LEAVING = \"STATE_LEAVING\";\nconst STATE_ERROR = \"STATE_ERROR\";\n\nexport default function App() {\n  const [appState, setAppState] = useState(STATE_IDLE);\n  const [roomUrl, setRoomUrl] = useState(null);\n  const [callObject, setCallObject] = useState(null);\n\n  /**\n   * Creates a new call room.\n   */\n  const createCall = useCallback(() => {\n    setAppState(STATE_CREATING);\n    return api\n      .createRoom()\n      .then(room => room.url)\n      .catch(error => {\n        console.log(\"Error creating room\", error);\n        setRoomUrl(null);\n        setAppState(STATE_IDLE);\n      });\n  }, []);\n\n  /**\n   * Starts joining an existing call.\n   *\n   * NOTE: In this demo we show how to completely clean up a call with destroy(),\n   * which requires creating a new call object before you can join() again.\n   * This isn't strictly necessary, but is good practice when you know you'll\n   * be done with the call object for a while and you're no longer listening to its\n   * events.\n   */\n  const startJoiningCall = useCallback(url => {\n    const newCallObject = DailyIframe.createCallObject();\n    setRoomUrl(url);\n    setCallObject(newCallObject);\n    setAppState(STATE_JOINING);\n    newCallObject.join({url});\n  }, []);\n\n  /**\n   * Starts leaving the current call.\n   */\n  const startLeavingCall = useCallback(() => {\n    if (!callObject) return;\n    setAppState(STATE_LEAVING);\n    callObject.leave();\n  }, [callObject]);\n\n  /**\n   * If a room's already specified in the page's URL when the component mounts,\n   * join the room.\n   */\n  useEffect(() => {\n    const url = roomUrlFromPageUrl();\n    url && startJoiningCall(url);\n  }, [startJoiningCall]);\n\n  /**\n   * Update the page's URL to reflect the active call when roomUrl changes.\n   *\n   * This demo uses replaceState rather than pushState in order to avoid a bit\n   * of state-management complexity. See the comments around enableCallButtons\n   * and enableStartButton for more information.\n   */\n  useEffect(() => {\n    const pageUrl = pageUrlFromRoomUrl(roomUrl);\n    if (pageUrl === window.location.href) return;\n    window.history.replaceState(null, null, pageUrl);\n  }, [roomUrl]);\n\n  /**\n   * Uncomment to attach call object to window for debugging purposes.\n   */\n  // useEffect(() => {\n  //   window.callObject = callObject;\n  // }, [callObject]);\n\n  /**\n   * Update app state based on reported meeting state changes.\n   *\n   * NOTE: Here we're showing how to completely clean up a call with destroy().\n   * This isn't strictly necessary between join()s, but is good practice when\n   * you know you'll be done with the call object for a while and you're no\n   * longer listening to its events.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    const events = [\"joined-meeting\", \"left-meeting\", \"error\"];\n\n    function handleNewMeetingState(event) {\n      event && logDailyEvent(event);\n      switch (callObject.meetingState()) {\n        case \"joined-meeting\":\n          setAppState(STATE_JOINED);\n          break;\n        case \"left-meeting\":\n          callObject.destroy().then(() => {\n            setRoomUrl(null);\n            setCallObject(null);\n            setAppState(STATE_IDLE);\n          });\n          break;\n        case \"error\":\n          setAppState(STATE_ERROR);\n          break;\n        default:\n          break;\n      }\n    }\n\n    // Use initial state\n    handleNewMeetingState();\n\n    // Listen for changes in state\n    for (const event of events) {\n      callObject.on(event, handleNewMeetingState);\n    }\n\n    // Stop listening for changes in state\n    return function cleanup() {\n      for (const event of events) {\n        callObject.off(event, handleNewMeetingState);\n      }\n    };\n  }, [callObject]);\n\n  /**\n   * Show the call UI if we're either joining, already joined, or are showing\n   * an error.\n   */\n  const showCall = [STATE_JOINING, STATE_JOINED, STATE_ERROR].includes(\n    appState\n  );\n\n  /**\n   * Only enable the call buttons (camera toggle, leave call, etc.) if we're joined\n   * or if we've errored out.\n   *\n   * !!!\n   * IMPORTANT: calling callObject.destroy() *before* we get the \"joined-meeting\"\n   * can result in unexpected behavior. Disabling the leave call button\n   * until then avoids this scenario.\n   * !!!\n   */\n  const enableCallButtons = [STATE_JOINED, STATE_ERROR].includes(appState);\n\n  /**\n   * Only enable the start button if we're in an idle state (i.e. not creating,\n   * joining, etc.).\n   *\n   * !!!\n   * IMPORTANT: only one call object is meant to be used at a time. Creating a\n   * new call object with DailyIframe.createCallObject() *before* your previous\n   * callObject.destroy() completely finishes can result in unexpected behavior.\n   * Disabling the start button until then avoids that scenario.\n   * !!!\n   */\n  const enableStartButton = appState === STATE_IDLE;\n\n  let inChannel = false;\n  let isEmpty = false;\n\n  return (\n    <div className=\"wrapper\">\n      <Hidden smUp>\n        <div className=\"hidden-standalone\">\n          <AddToHomeScreenDialog/>\n        </div>\n      </Hidden>\n      <Paper className=\"app\">\n        <div style={{width: \"100%\", height: \"100%\"}}>\n          <div className=\"content\">\n            <div>\n              {showCall ?\n                isEmpty ? <EmptyScreen/>\n                  : <CallObjectContext.Provider value={callObject}>\n                    <Call roomUrl={roomUrl}/>\n                    {/*\n                    TODO: not sure if this works\n                    <Tray\n                        disabled={!enableCallButtons}\n                        onClickLeaveCall={startLeavingCall}\n                      />\n                      */}\n                  </CallObjectContext.Provider>\n                : <div style={{\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  flexDirection: \"column\",\n                  display: \"flex\",\n                }}>\n                  <div style={{textAlign: \"center\", padding: \"10% 0px\", maxWidth: 450}}>\n                    <img src=\"https://twemoji.maxcdn.com/v/12.1.5/svg/1f44b.svg\"\n                         style={{height: 100, width: 100, marginBottom: 20}}/>\n                    <Typography style={{fontSize: 14}} color=\"textSecondary\" gutterBottom>\n                      Hello Stranger,\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"h2\">\n                      Welcome to <Emoji>📻</Emoji> <strong className=\"brand\">EmojiTalkie</strong>\n                    </Typography>\n                    <Typography style={{marginBottom: 12}} color=\"textSecondary\">\n                      The anonymous voice chat community\n                    </Typography>\n                    <Typography variant=\"body2\" component=\"p\">\n                      Join emoji channels and socalise with strangers about your favorite topics. You can mute a person with one <i>tap</i>{/*, or\n                      permanently block them with a <i>double-tap</i>*/}. No account. No download required. It's that simple.\n                    </Typography>\n                    <div style={{display: \"flex\", margin: \"20px\"}}>\n                      <StartButton\n                        disabled={!enableStartButton}\n                        onClick={() => {\n                          createCall().then(url => startJoiningCall(url));\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              }\n            </div>\n          </div>\n        </div>\n        <div className=\"channels\">\n          <div className=\"bottomAppBarWrapper\">\n            <BottomAppBar muteIcon={\n              <CallObjectContext.Provider value={callObject}>\n                <Tray\n                  disabled={!enableCallButtons}\n                  onClickLeaveCall={startLeavingCall}\n                />\n              </CallObjectContext.Provider>\n            }/>\n          </div>\n          <div className=\"EmojiPickerWrapper\">\n            <Divider/>\n            <Tabs variant=\"fullWidth\"\n                  indicatorColor=\"primary\"\n                  textColor=\"primary\">\n              <Tab label=\"Global\"/>\n              <Tab label=\"Local\"/>\n            </Tabs>\n            <EmojiPicker/>\n          </div>\n        </div>\n      </Paper>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport BrowserUnsupported from \"./components/BrowserUnsupported/BrowserUnsupported\";\nimport DailyIframe from \"@daily-co/daily-js\";\n\nReactDOM.render(\n  DailyIframe.supportedBrowser().supported ? <App /> : <BrowserUnsupported />,\n  document.getElementById(\"root\")\n);\n","export function roomUrlFromPageUrl() {\n  const match = window.location.search.match(/roomUrl=([^&]+)/i);\n  return match && match[1] ? decodeURIComponent(match[1]) : null;\n}\n\nexport function pageUrlFromRoomUrl(roomUrl) {\n  return (\n    window.location.href.split(\"?\")[0] +\n    (roomUrl ? `?roomUrl=${encodeURIComponent(roomUrl)}` : \"\")\n  );\n}\n","import React from \"react\";\nimport \"./BrowserUnsupported.css\";\n\nexport default function BrowserUnsupported() {\n  return (\n    <p class=\"browser-unsupported\">\n      Looks like you need to upgrade your browser to make Daily.co video calls.\n      <br />\n      See&nbsp;\n      <a href=\"https://help.daily.co/en/articles/3179421-what-browser-version-does-daily-co-require\">\n        this page\n      </a>\n      &nbsp;for help getting on a supported browser version.\n    </p>\n  );\n}\n"],"sourceRoot":""}